import { c as create_ssr_component, e as escape, f as each, g as add_attribute } from "../../../chunks/ssr.js";
import "devalue";
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let assets;
  let units;
  let unitFilter;
  let { data } = $$props;
  let editingAssetId = null;
  let editingAsset = {
    name: "",
    unitId: "",
    type: "OTHER",
    status: "OPERATIONAL",
    description: "",
    purchaseDate: "",
    warrantyExpiry: ""
  };
  if ($$props.data === void 0 && $$bindings.data && data !== void 0)
    $$bindings.data(data);
  assets = data.assets || [];
  units = data.units || [];
  unitFilter = data.unitFilter;
  return `${$$result.head += `<!-- HEAD_svelte-5egb08_START -->${$$result.title = `<title>Assets — Spore CMMS</title>`, ""}<!-- HEAD_svelte-5egb08_END -->`, ""} <div class="max-w-7xl mx-auto px-4 py-10"> <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-10"><div><h1 class="text-4xl font-extrabold text-spore-cream tracking-tight" data-svelte-h="svelte-b9dnm5">Assets</h1> <p class="text-spore-cream/60 mt-2 text-sm font-medium">${unitFilter ? `Showing assets for selected unit
					<button class="ml-2 text-spore-orange hover:underline" data-svelte-h="svelte-1pi4qp5">Clear filter</button>` : `${escape(assets.length)} total asset${escape(assets.length !== 1 ? "s" : "")}`}</p></div> <button class="bg-spore-orange text-white px-6 py-3 rounded-xl hover:bg-spore-orange/90 transition-colors text-sm font-bold tracking-wide">${escape("+ NEW ASSET")}</button></div>  ${``}  ${assets.length > 0 ? `<div class="bg-spore-white rounded-xl overflow-hidden"><div class="overflow-x-auto"><table class="min-w-full"><thead class="bg-spore-dark"><tr><th class="px-4 py-3 text-left text-xs font-bold text-spore-cream uppercase tracking-wider" data-svelte-h="svelte-eph96p">Asset</th> <th class="px-4 py-3 text-left text-xs font-bold text-spore-cream uppercase tracking-wider" data-svelte-h="svelte-1skifmx">Type</th> <th class="px-4 py-3 text-left text-xs font-bold text-spore-cream uppercase tracking-wider" data-svelte-h="svelte-1wy5e1r">Status</th> <th class="px-4 py-3 text-left text-xs font-bold text-spore-cream uppercase tracking-wider hidden md:table-cell" data-svelte-h="svelte-2ejboa">Location</th> <th class="px-4 py-3 text-left text-xs font-bold text-spore-cream uppercase tracking-wider text-center" data-svelte-h="svelte-1creitc">WO</th> <th class="px-4 py-3 text-left text-xs font-bold text-spore-cream uppercase tracking-wider hidden lg:table-cell" data-svelte-h="svelte-4skpp3">Created</th> <th class="px-4 py-3 text-left text-xs font-bold text-spore-cream uppercase tracking-wider" data-svelte-h="svelte-vmrd6s">Actions</th></tr></thead> <tbody class="divide-y divide-spore-cream/50">${each(assets, (asset) => {
    return `${editingAssetId === asset.id ? ` <tr class="bg-spore-orange/10"><td class="p-2" colspan="7"><form method="POST" action="?/update" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2"><input type="hidden" name="assetId"${add_attribute("value", asset.id, 0)}> <input type="text" name="name" placeholder="Asset name" class="px-3 py-2 rounded border border-spore-orange bg-white text-spore-dark text-sm focus:outline-none focus:ring-2 focus:ring-spore-orange" required${add_attribute("value", editingAsset.name, 0)}> <select name="unitId" class="px-3 py-2 rounded border border-spore-orange bg-white text-spore-dark text-sm focus:outline-none focus:ring-2 focus:ring-spore-orange" required><option value="" data-svelte-h="svelte-zyg5ia">Select unit...</option>${each(units, (unit) => {
      return `<option${add_attribute("value", unit.id, 0)}>${escape(unit.site?.name)} - Unit ${escape(unit.roomNumber)} ${escape(unit.building ? ` (${unit.building.name})` : "")} ${escape(unit.name ? ` - ${unit.name}` : "")} </option>`;
    })}</select> <select name="type" class="px-3 py-2 rounded border border-spore-orange bg-white text-spore-dark text-sm focus:outline-none focus:ring-2 focus:ring-spore-orange"><option value="HVAC" data-svelte-h="svelte-79tluq">HVAC</option><option value="ELECTRICAL" data-svelte-h="svelte-zbiy3a">Electrical</option><option value="PLUMBING" data-svelte-h="svelte-1uvq8ry">Plumbing</option><option value="FIRE_SAFETY" data-svelte-h="svelte-1d9q4n">Fire Safety</option><option value="ELEVATOR" data-svelte-h="svelte-ge3mfi">Elevator</option><option value="SECURITY_SYSTEM" data-svelte-h="svelte-1tetcid">Security System</option><option value="OTHER" data-svelte-h="svelte-56dpqm">Other</option></select> <select name="status" class="px-3 py-2 rounded border border-spore-orange bg-white text-spore-dark text-sm focus:outline-none focus:ring-2 focus:ring-spore-orange"><option value="OPERATIONAL" data-svelte-h="svelte-o6ubge">Operational</option><option value="NEEDS_MAINTENANCE" data-svelte-h="svelte-1a7qnw9">Needs Maintenance</option><option value="OUT_OF_SERVICE" data-svelte-h="svelte-1cq3vg0">Out of Service</option></select> <input type="date" name="purchaseDate" class="px-3 py-2 rounded border border-spore-orange bg-white text-spore-dark text-sm focus:outline-none focus:ring-2 focus:ring-spore-orange"${add_attribute("value", editingAsset.purchaseDate, 0)}> <input type="date" name="warrantyExpiry" class="px-3 py-2 rounded border border-spore-orange bg-white text-spore-dark text-sm focus:outline-none focus:ring-2 focus:ring-spore-orange"${add_attribute("value", editingAsset.warrantyExpiry, 0)}> <textarea name="description" placeholder="Description" rows="2" class="px-3 py-2 rounded border border-spore-orange bg-white text-spore-dark text-sm focus:outline-none focus:ring-2 focus:ring-spore-orange md:col-span-2">${escape("")}</textarea> <div class="flex gap-2 md:col-span-3 justify-end"><button type="submit" ${!editingAsset.name.trim() ? "disabled" : ""} class="bg-spore-forest text-white px-4 py-2 rounded font-bold text-xs hover:bg-spore-forest/90 disabled:opacity-50 transition-colors">${escape("SAVE")}</button> <button type="button" class="px-4 py-2 rounded font-bold text-xs text-spore-steel hover:bg-spore-cream transition-colors" data-svelte-h="svelte-1mwpnj">CANCEL
												</button></div> </form></td> </tr>` : ` <tr class="hover:bg-spore-cream/20 transition-colors group"><td class="px-4 py-3"><a href="${"/assets/" + escape(asset.id, true)}" class="text-sm font-bold text-spore-dark hover:text-spore-orange transition-colors block">${escape(asset.name)} ${asset.description ? `<span class="text-xs text-spore-steel/70 font-normal block">${escape(asset.description.slice(0, 50))}${escape(asset.description.length > 50 ? "..." : "")}</span>` : ``} </a></td> <td class="px-4 py-3"><span class="px-2 py-1 text-xs font-semibold rounded-full bg-spore-cream/20 text-spore-steel">${escape(asset.type?.replace("_", " ") || "Other")} </span></td> <td class="px-4 py-3"><span class="${"px-2 py-1 text-xs font-semibold rounded-full " + escape(
      asset.status === "OPERATIONAL" ? "bg-green-100 text-green-800" : asset.status === "NEEDS_MAINTENANCE" ? "bg-yellow-100 text-yellow-800" : "bg-red-100 text-red-800",
      true
    )}">${escape(asset.status?.replace("_", " ") || "Unknown")} </span></td> <td class="px-4 py-3 hidden md:table-cell"><div class="text-sm text-spore-steel"><span class="font-medium">${escape(asset.unit?.site?.name || "Unknown")}</span> <br> <span class="text-xs">Unit ${escape(asset.unit?.roomNumber || "N/A")} ${escape(asset.unit?.name ? ` - ${asset.unit.name}` : "")} ${escape(asset.unit?.building ? ` • Bldg ${asset.unit.building.name}` : "")} ${escape(asset.unit?.floor ? ` • Floor ${asset.unit.floor}` : "")}</span> </div></td> <td class="px-4 py-3 text-center">${asset._count?.workOrders > 0 ? `<span class="px-2 py-1 text-xs font-bold rounded-full bg-spore-orange/10 text-spore-orange">${escape(asset._count.workOrders)} </span>` : `<span class="text-xs text-spore-steel/50" data-svelte-h="svelte-1qa84zt">0</span>`}</td> <td class="px-4 py-3 text-sm text-spore-steel hidden lg:table-cell">${escape(new Date(asset.createdAt).toLocaleDateString())}</td> <td class="px-4 py-3 whitespace-nowrap text-xs font-medium space-x-2"><a href="${"/assets/" + escape(asset.id, true)}" class="text-spore-forest hover:text-spore-forest/70 transition-colors">View</a> <button class="text-spore-orange hover:text-spore-orange/70 transition-colors" data-svelte-h="svelte-1u2ikol">Edit</button> <form method="POST" action="?/delete" class="inline"><input type="hidden" name="assetId"${add_attribute("value", asset.id, 0)}> <button type="submit" class="text-red-500 hover:text-red-400 transition-colors" data-svelte-h="svelte-1aobehf">Delete</button> </form></td> </tr>`}`;
  })}</tbody></table></div></div>` : `<div class="text-center py-16 bg-spore-white rounded-xl"><div class="text-5xl mb-4" data-svelte-h="svelte-1mat6ie">⚙️</div> <h3 class="text-xl font-bold text-spore-dark mb-2" data-svelte-h="svelte-xz11x2">No assets yet</h3> <p class="text-spore-steel mb-6">${unitFilter ? `No assets in this unit` : `Create your first asset to start tracking equipment`}</p> <button class="bg-spore-orange text-white px-6 py-3 rounded-xl hover:bg-spore-orange/90 transition-colors text-sm font-bold" data-svelte-h="svelte-ulaxo0">+ CREATE ASSET</button></div>`}</div>`;
});
export {
  Page as default
};
