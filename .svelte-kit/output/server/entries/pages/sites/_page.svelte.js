import { c as create_ssr_component, e as escape, g as add_attribute, f as each } from "../../../chunks/ssr.js";
import "devalue";
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let sites;
  let { data } = $$props;
  let editingSiteId = null;
  let editingSiteName = "";
  let searchTerm = data.search || "";
  if ($$props.data === void 0 && $$bindings.data && data !== void 0)
    $$bindings.data(data);
  sites = data.sites || [];
  return `${$$result.head += `<!-- HEAD_svelte-w7e4y3_START -->${$$result.title = `<title>Sites â€” Spore CMMS</title>`, ""}<!-- HEAD_svelte-w7e4y3_END -->`, ""} <div class="max-w-7xl mx-auto px-4 py-10"> <div class="mb-10"><div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-4"><div><h1 class="text-4xl font-extrabold text-spore-cream tracking-tight" data-svelte-h="svelte-19ed5sy">Sites</h1></div> <button class="bg-spore-orange text-white px-6 py-3 rounded-xl hover:bg-spore-orange/90 transition-colors text-sm font-bold tracking-wide">${escape("+ NEW SITE")}</button></div> <div class="flex flex-col sm:flex-row gap-4"><input type="text" placeholder="Search sites..." class="flex-1 max-w-md px-4 py-2 rounded-lg border border-spore-cream/30 bg-white text-spore-dark placeholder-spore-steel/50 focus:outline-none focus:ring-2 focus:ring-spore-orange"${add_attribute("value", searchTerm, 0)}> ${searchTerm ? `<button class="text-sm font-semibold text-spore-cream/70 hover:text-spore-cream px-2" data-svelte-h="svelte-1k5n1zx">Clear</button>` : ``}</div></div>  ${``}  ${sites.length > 0 ? `<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">${each(sites, (site) => {
    return `${editingSiteId === site.id ? ` <div class="bg-spore-white rounded-xl p-6 ring-2 ring-spore-orange"><form method="POST" action="?/update"><input type="hidden" name="siteId"${add_attribute("value", site.id, 0)}> <div class="mb-4"><input type="text" name="name" class="w-full px-4 py-3 rounded-lg border border-spore-orange bg-spore-cream/20 text-spore-dark focus:outline-none focus:ring-2 focus:ring-spore-orange text-lg font-bold" required${add_attribute("value", editingSiteName, 0)}></div> <div class="flex gap-2"><button type="submit" ${!editingSiteName.trim() ? "disabled" : ""} class="flex-1 bg-spore-forest text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-spore-forest/90 disabled:opacity-50 transition-colors">${escape("SAVE")}</button> <button type="button" class="px-4 py-2 rounded-lg font-bold text-sm text-spore-steel hover:bg-spore-cream transition-colors" data-svelte-h="svelte-vhk55s">CANCEL</button> </div></form> </div>` : ` <div class="bg-spore-white rounded-xl p-6 hover:shadow-lg transition-all group relative"><a href="${"/sites/" + escape(site.id, true)}" class="absolute inset-0 z-0"></a> <div class="relative z-10 pointer-events-none"><div class="flex justify-between items-start mb-4"><div class="w-12 h-12 bg-spore-forest/10 rounded-xl flex items-center justify-center"><span class="text-2xl" data-svelte-h="svelte-1xnl04j">ğŸ¢</span></div> <div class="flex gap-2 pointer-events-auto"><button class="text-spore-steel/40 hover:text-spore-orange transition-colors opacity-0 group-hover:opacity-100" data-svelte-h="svelte-s97alz">âœï¸</button> <form method="POST" action="?/delete"><input type="hidden" name="siteId"${add_attribute("value", site.id, 0)}> <button type="submit" class="text-spore-steel/40 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100" data-svelte-h="svelte-9vz145">âœ•
										</button></form> </div></div> <h3 class="text-lg font-bold text-spore-dark group-hover:text-spore-forest transition-colors">${escape(site.name)}</h3> <p class="text-sm text-spore-steel mt-1">${escape(site._count?.Building || 0)} building${escape(site._count?.Building !== 1 ? "s" : "")} â€¢ ${escape(site._count?.Unit || 0)} unit${escape(site._count?.Unit !== 1 ? "s" : "")}</p> <div class="mt-4 pt-4 border-t border-spore-cream/50"><span class="text-xs text-spore-steel">Created ${escape(new Date(site.createdAt).toLocaleDateString())}</span> </div></div> </div>`}`;
  })}</div>` : `<div class="text-center py-16 bg-spore-white rounded-xl"><div class="text-5xl mb-4" data-svelte-h="svelte-n08cxc">ğŸ¢</div> <h3 class="text-xl font-bold text-spore-dark mb-2" data-svelte-h="svelte-1r1pntd">No sites yet</h3> <p class="text-spore-steel mb-6" data-svelte-h="svelte-1itm7tw">Create your first site to get started</p> <button class="bg-spore-orange text-white px-6 py-3 rounded-xl hover:bg-spore-orange/90 transition-colors text-sm font-bold" data-svelte-h="svelte-1vkd0hb">+ CREATE SITE</button></div>`}</div>`;
});
export {
  Page as default
};
