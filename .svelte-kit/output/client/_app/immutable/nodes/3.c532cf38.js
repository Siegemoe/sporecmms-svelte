import{s as Xe,n as _e,a as Ye,b as xe,i as Je,r as Te}from"../chunks/scheduler.1dbefa40.js";import{S as Ze,i as $e,s as O,e as v,t as V,m as et,d as m,f as D,c as g,a as I,k as W,b as B,l as c,g as L,h as s,n as J,j as F,o as Z,p as me,q as Ke,r as Le,u as he,v as tt}from"../chunks/index.316c407f.js";import{e as re,u as lt,d as ot}from"../chunks/each.5b08259c.js";import{e as ye}from"../chunks/forms.d1ef4f5c.js";import{g as st}from"../chunks/navigation.21f4a2dd.js";function Fe(l,e,t){const o=l.slice();return o[22]=e[t],o}function Me(l,e,t){const o=l.slice();return o[25]=e[t],o}function He(l,e,t){const o=l.slice();return o[25]=e[t],o}function rt(l){let e=l[7].length+"",t,o,u=l[7].length!==1?"s":"",i;return{c(){t=V(e),o=V(" total asset"),i=V(u)},l(r){t=B(r,e),o=B(r," total asset"),i=B(r,u)},m(r,a){L(r,t,a),L(r,o,a),L(r,i,a)},p(r,a){a&128&&e!==(e=r[7].length+"")&&F(t,e),a&128&&u!==(u=r[7].length!==1?"s":"")&&F(i,u)},d(r){r&&(m(t),m(o),m(i))}}}function nt(l){let e,t,o="Clear filter",u,i;return{c(){e=V(`Showing assets for selected room
					`),t=v("button"),t.textContent=o,this.h()},l(r){e=B(r,`Showing assets for selected room
					`),t=g(r,"BUTTON",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1pi4qp5"&&(t.textContent=o),this.h()},h(){c(t,"class","ml-2 text-spore-orange hover:underline")},m(r,a){L(r,e,a),L(r,t,a),u||(i=J(t,"click",l[8]),u=!0)},p:_e,d(r){r&&(m(e),m(t)),u=!1,i()}}}function We(l){let e,t,o="Create New Asset",u,i,r,a,n,f,b="Select a room...",_,h,k=l[1]?"CREATING...":"CREATE ASSET",E,P,C,R,A,S=re(l[6]),x=[];for(let T=0;T<S.length;T+=1)x[T]=Ge(He(l,S,T));return{c(){e=v("div"),t=v("h2"),t.textContent=o,u=O(),i=v("form"),r=v("input"),a=O(),n=v("select"),f=v("option"),f.textContent=b;for(let T=0;T<x.length;T+=1)x[T].c();_=O(),h=v("button"),E=V(k),this.h()},l(T){e=g(T,"DIV",{class:!0});var N=I(e);t=g(N,"H2",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-bglehb"&&(t.textContent=o),u=D(N),i=g(N,"FORM",{method:!0,action:!0,class:!0});var p=I(i);r=g(p,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),a=D(p),n=g(p,"SELECT",{name:!0,class:!0});var d=I(n);f=g(d,"OPTION",{"data-svelte-h":!0}),W(f)!=="svelte-smnkqq"&&(f.textContent=b);for(let y=0;y<x.length;y+=1)x[y].l(d);d.forEach(m),_=D(p),h=g(p,"BUTTON",{type:!0,class:!0});var w=I(h);E=B(w,k),w.forEach(m),p.forEach(m),N.forEach(m),this.h()},h(){c(t,"class","text-lg font-bold text-spore-dark mb-4"),c(r,"type","text"),c(r,"name","name"),c(r,"placeholder","Asset name (e.g., HVAC Unit #1)"),c(r,"class","px-4 py-3 rounded-lg border border-spore-cream bg-spore-cream/20 text-spore-dark placeholder-spore-steel/50 focus:outline-none focus:ring-2 focus:ring-spore-orange"),r.required=!0,f.__value="",Z(f,f.__value),c(n,"name","roomId"),c(n,"class","px-4 py-3 rounded-lg border border-spore-cream bg-spore-cream/20 text-spore-dark focus:outline-none focus:ring-2 focus:ring-spore-orange"),n.required=!0,l[2].roomId===void 0&&Ye(()=>l[14].call(n)),c(h,"type","submit"),h.disabled=P=l[1]||!l[2].name.trim()||!l[2].roomId,c(h,"class","bg-spore-forest text-white px-6 py-3 rounded-lg font-bold text-sm tracking-wide hover:bg-spore-forest/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"),c(i,"method","POST"),c(i,"action","?/create"),c(i,"class","grid grid-cols-1 sm:grid-cols-3 gap-4"),c(e,"class","bg-spore-white rounded-xl p-6 mb-8")},m(T,N){L(T,e,N),s(e,t),s(e,u),s(e,i),s(i,r),Z(r,l[2].name),s(i,a),s(i,n),s(n,f);for(let p=0;p<x.length;p+=1)x[p]&&x[p].m(n,null);me(n,l[2].roomId,!0),s(i,_),s(i,h),s(h,E),R||(A=[J(r,"input",l[13]),J(n,"change",l[14]),xe(C=ye.call(null,i,l[15]))],R=!0)},p(T,N){if(N&68&&r.value!==T[2].name&&Z(r,T[2].name),N&64){S=re(T[6]);let p;for(p=0;p<S.length;p+=1){const d=He(T,S,p);x[p]?x[p].p(d,N):(x[p]=Ge(d),x[p].c(),x[p].m(n,null))}for(;p<x.length;p+=1)x[p].d(1);x.length=S.length}N&68&&me(n,T[2].roomId),N&2&&k!==(k=T[1]?"CREATING...":"CREATE ASSET")&&F(E,k),N&70&&P!==(P=T[1]||!T[2].name.trim()||!T[2].roomId)&&(h.disabled=P),C&&Je(C.update)&&N&7&&C.update.call(null,T[15])},d(T){T&&m(e),Ke(x,T),R=!1,Te(A)}}}function Ge(l){var h;let e,t=((h=l[25].site)==null?void 0:h.name)+"",o,u,i=l[25].name+"",r,a,n=l[25].building?` (Bldg ${l[25].building})`:"",f,b,_;return{c(){e=v("option"),o=V(t),u=V(" - Room "),r=V(i),a=O(),f=V(n),b=O(),this.h()},l(k){e=g(k,"OPTION",{});var E=I(e);o=B(E,t),u=B(E," - Room "),r=B(E,i),a=D(E),f=B(E,n),b=D(E),E.forEach(m),this.h()},h(){e.__value=_=l[25].id,Z(e,e.__value)},m(k,E){L(k,e,E),s(e,o),s(e,u),s(e,r),s(e,a),s(e,f),s(e,b)},p(k,E){var P;E&64&&t!==(t=((P=k[25].site)==null?void 0:P.name)+"")&&F(o,t),E&64&&i!==(i=k[25].name+"")&&F(r,i),E&64&&n!==(n=k[25].building?` (Bldg ${k[25].building})`:"")&&F(f,n),E&64&&_!==(_=k[25].id)&&(e.__value=_,Z(e,e.__value))},d(k){k&&m(e)}}}function at(l){let e,t,o="⚙️",u,i,r="No assets yet",a,n,f,b,_="+ CREATE ASSET",h,k;function E(R,A){return R[5]?ct:ut}let P=E(l),C=P(l);return{c(){e=v("div"),t=v("div"),t.textContent=o,u=O(),i=v("h3"),i.textContent=r,a=O(),n=v("p"),C.c(),f=O(),b=v("button"),b.textContent=_,this.h()},l(R){e=g(R,"DIV",{class:!0});var A=I(e);t=g(A,"DIV",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1mat6ie"&&(t.textContent=o),u=D(A),i=g(A,"H3",{class:!0,"data-svelte-h":!0}),W(i)!=="svelte-xz11x2"&&(i.textContent=r),a=D(A),n=g(A,"P",{class:!0});var S=I(n);C.l(S),S.forEach(m),f=D(A),b=g(A,"BUTTON",{class:!0,"data-svelte-h":!0}),W(b)!=="svelte-ulaxo0"&&(b.textContent=_),A.forEach(m),this.h()},h(){c(t,"class","text-5xl mb-4"),c(i,"class","text-xl font-bold text-spore-dark mb-2"),c(n,"class","text-spore-steel mb-6"),c(b,"class","bg-spore-orange text-white px-6 py-3 rounded-xl hover:bg-spore-orange/90 transition-colors text-sm font-bold"),c(e,"class","text-center py-16 bg-spore-white rounded-xl")},m(R,A){L(R,e,A),s(e,t),s(e,u),s(e,i),s(e,a),s(e,n),C.m(n,null),s(e,f),s(e,b),h||(k=J(b,"click",l[21]),h=!0)},p(R,A){P!==(P=E(R))&&(C.d(1),C=P(R),C&&(C.c(),C.m(n,null)))},d(R){R&&m(e),C.d(),h=!1,k()}}}function it(l){let e,t,o,u,i='<tr><th class="px-6 py-4 text-left text-xs font-bold text-spore-cream uppercase tracking-wider">Asset</th> <th class="px-6 py-4 text-left text-xs font-bold text-spore-cream uppercase tracking-wider">Location</th> <th class="px-6 py-4 text-left text-xs font-bold text-spore-cream uppercase tracking-wider">Work Orders</th> <th class="px-6 py-4 text-left text-xs font-bold text-spore-cream uppercase tracking-wider">Created</th> <th class="px-6 py-4 text-left text-xs font-bold text-spore-cream uppercase tracking-wider">Actions</th></tr>',r,a,n=[],f=new Map,b=re(l[7]);const _=h=>h[22].id;for(let h=0;h<b.length;h+=1){let k=Fe(l,b,h),E=_(k);f.set(E,n[h]=ze(E,k))}return{c(){e=v("div"),t=v("div"),o=v("table"),u=v("thead"),u.innerHTML=i,r=O(),a=v("tbody");for(let h=0;h<n.length;h+=1)n[h].c();this.h()},l(h){e=g(h,"DIV",{class:!0});var k=I(e);t=g(k,"DIV",{class:!0});var E=I(t);o=g(E,"TABLE",{class:!0});var P=I(o);u=g(P,"THEAD",{class:!0,"data-svelte-h":!0}),W(u)!=="svelte-184b13d"&&(u.innerHTML=i),r=D(P),a=g(P,"TBODY",{class:!0});var C=I(a);for(let R=0;R<n.length;R+=1)n[R].l(C);C.forEach(m),P.forEach(m),E.forEach(m),k.forEach(m),this.h()},h(){c(u,"class","bg-spore-dark"),c(a,"class","divide-y divide-spore-cream/50"),c(o,"class","min-w-full"),c(t,"class","overflow-x-auto"),c(e,"class","bg-spore-white rounded-xl overflow-hidden")},m(h,k){L(h,e,k),s(e,t),s(t,o),s(o,u),s(o,r),s(o,a);for(let E=0;E<n.length;E+=1)n[E]&&n[E].m(a,null)},p(h,k){k&1754&&(b=re(h[7]),n=lt(n,k,_,1,h,b,f,a,ot,ze,null,Fe))},d(h){h&&m(e);for(let k=0;k<n.length;k+=1)n[k].d()}}}function ut(l){let e;return{c(){e=V("Create your first asset to start tracking equipment")},l(t){e=B(t,"Create your first asset to start tracking equipment")},m(t,o){L(t,e,o)},d(t){t&&m(e)}}}function ct(l){let e;return{c(){e=V("No assets in this room")},l(t){e=B(t,"No assets in this room")},m(t,o){L(t,e,o)},d(t){t&&m(e)}}}function dt(l){var Oe,De,Pe,Re,Ve;let e,t,o,u=l[22].name+"",i,r,a,n,f,b,_=(((De=(Oe=l[22].room)==null?void 0:Oe.site)==null?void 0:De.name)||"Unknown")+"",h,k,E,P,C,R,A=(((Pe=l[22].room)==null?void 0:Pe.name)||"N/A")+"",S,x,T=(Re=l[22].room)!=null&&Re.building?` • Bldg ${l[22].room.building}`:"",N,p,d=(Ve=l[22].room)!=null&&Ve.floor?` • Floor ${l[22].room.floor}`:"",w,y,U,G,M,H=new Date(l[22].createdAt).toLocaleDateString()+"",ue,be,Y,$,ve,ce,ge,ee,Ie="Edit",ke,j,le,de,Ee,K,Ae="Delete",we,Ce,Ne;function Se(Q,q){var te;return((te=Q[22]._count)==null?void 0:te.workOrders)>0?ht:pt}let fe=Se(l),z=fe(l);function Qe(){return l[19](l[22])}return{c(){e=v("tr"),t=v("td"),o=v("a"),i=V(u),a=O(),n=v("td"),f=v("div"),b=v("span"),h=V(_),k=O(),E=v("br"),P=O(),C=v("span"),R=V("Room "),S=V(A),x=O(),N=V(T),p=O(),w=V(d),y=O(),U=v("td"),z.c(),G=O(),M=v("td"),ue=V(H),be=O(),Y=v("td"),$=v("a"),ve=V("View"),ge=O(),ee=v("button"),ee.textContent=Ie,ke=O(),j=v("form"),le=v("input"),Ee=O(),K=v("button"),K.textContent=Ae,we=O(),this.h()},l(Q){e=g(Q,"TR",{class:!0});var q=I(e);t=g(q,"TD",{class:!0});var te=I(t);o=g(te,"A",{href:!0,class:!0});var ne=I(o);i=B(ne,u),ne.forEach(m),te.forEach(m),a=D(q),n=g(q,"TD",{class:!0});var ae=I(n);f=g(ae,"DIV",{class:!0});var X=I(f);b=g(X,"SPAN",{class:!0});var ie=I(b);h=B(ie,_),ie.forEach(m),k=D(X),E=g(X,"BR",{}),P=D(X),C=g(X,"SPAN",{class:!0});var oe=I(C);R=B(oe,"Room "),S=B(oe,A),x=D(oe),N=B(oe,T),p=D(oe),w=B(oe,d),oe.forEach(m),X.forEach(m),ae.forEach(m),y=D(q),U=g(q,"TD",{class:!0});var Be=I(U);z.l(Be),Be.forEach(m),G=D(q),M=g(q,"TD",{class:!0});var Ue=I(M);ue=B(Ue,H),Ue.forEach(m),be=D(q),Y=g(q,"TD",{class:!0});var se=I(Y);$=g(se,"A",{href:!0,class:!0});var qe=I($);ve=B(qe,"View"),qe.forEach(m),ge=D(se),ee=g(se,"BUTTON",{class:!0,"data-svelte-h":!0}),W(ee)!=="svelte-1u2ikol"&&(ee.textContent=Ie),ke=D(se),j=g(se,"FORM",{method:!0,action:!0,class:!0});var pe=I(j);le=g(pe,"INPUT",{type:!0,name:!0}),Ee=D(pe),K=g(pe,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),W(K)!=="svelte-1aobehf"&&(K.textContent=Ae),pe.forEach(m),se.forEach(m),we=D(q),q.forEach(m),this.h()},h(){c(o,"href",r="/assets/"+l[22].id),c(o,"class","text-sm font-bold text-spore-dark hover:text-spore-orange transition-colors"),c(t,"class","px-6 py-4 whitespace-nowrap"),c(b,"class","font-medium"),c(C,"class","text-xs"),c(f,"class","text-sm text-spore-steel"),c(n,"class","px-6 py-4 whitespace-nowrap"),c(U,"class","px-6 py-4 whitespace-nowrap"),c(M,"class","px-6 py-4 whitespace-nowrap text-sm text-spore-steel"),c($,"href",ce="/assets/"+l[22].id),c($,"class","text-spore-forest hover:text-spore-forest/70 transition-colors"),c(ee,"class","text-spore-orange hover:text-spore-orange/70 transition-colors"),c(le,"type","hidden"),c(le,"name","assetId"),le.value=de=l[22].id,c(K,"type","submit"),c(K,"class","text-red-500 hover:text-red-400 transition-colors"),c(j,"method","POST"),c(j,"action","?/delete"),c(j,"class","inline"),c(Y,"class","px-6 py-4 whitespace-nowrap text-sm font-bold space-x-3"),c(e,"class","hover:bg-spore-cream/20 transition-colors group")},m(Q,q){L(Q,e,q),s(e,t),s(t,o),s(o,i),s(e,a),s(e,n),s(n,f),s(f,b),s(b,h),s(f,k),s(f,E),s(f,P),s(f,C),s(C,R),s(C,S),s(C,x),s(C,N),s(C,p),s(C,w),s(e,y),s(e,U),z.m(U,null),s(e,G),s(e,M),s(M,ue),s(e,be),s(e,Y),s(Y,$),s($,ve),s(Y,ge),s(Y,ee),s(Y,ke),s(Y,j),s(j,le),s(j,Ee),s(j,K),s(e,we),Ce||(Ne=[J(ee,"click",Qe),J(K,"click",tt(l[20])),xe(ye.call(null,j))],Ce=!0)},p(Q,q){var te,ne,ae,X,ie;l=Q,q&128&&u!==(u=l[22].name+"")&&F(i,u),q&128&&r!==(r="/assets/"+l[22].id)&&c(o,"href",r),q&128&&_!==(_=(((ne=(te=l[22].room)==null?void 0:te.site)==null?void 0:ne.name)||"Unknown")+"")&&F(h,_),q&128&&A!==(A=(((ae=l[22].room)==null?void 0:ae.name)||"N/A")+"")&&F(S,A),q&128&&T!==(T=(X=l[22].room)!=null&&X.building?` • Bldg ${l[22].room.building}`:"")&&F(N,T),q&128&&d!==(d=(ie=l[22].room)!=null&&ie.floor?` • Floor ${l[22].room.floor}`:"")&&F(w,d),fe===(fe=Se(l))&&z?z.p(l,q):(z.d(1),z=fe(l),z&&(z.c(),z.m(U,null))),q&128&&H!==(H=new Date(l[22].createdAt).toLocaleDateString()+"")&&F(ue,H),q&128&&ce!==(ce="/assets/"+l[22].id)&&c($,"href",ce),q&128&&de!==(de=l[22].id)&&(le.value=de)},d(Q){Q&&m(e),z.d(),Ce=!1,Te(Ne)}}}function ft(l){let e,t,o,u,i,r,a,n,f,b,_,h=l[1]?"SAVING...":"SAVE",k,E,P,C,R="CANCEL",A,S,x,T,N=re(l[6]),p=[];for(let d=0;d<N.length;d+=1)p[d]=je(Me(l,N,d));return{c(){e=v("tr"),t=v("td"),o=v("form"),u=v("input"),r=O(),a=v("input"),n=O(),f=v("select");for(let d=0;d<p.length;d+=1)p[d].c();b=O(),_=v("button"),k=V(h),P=O(),C=v("button"),C.textContent=R,S=O(),this.h()},l(d){e=g(d,"TR",{class:!0});var w=I(e);t=g(w,"TD",{class:!0,colspan:!0});var y=I(t);o=g(y,"FORM",{method:!0,action:!0,class:!0});var U=I(o);u=g(U,"INPUT",{type:!0,name:!0}),r=D(U),a=g(U,"INPUT",{type:!0,name:!0,class:!0}),n=D(U),f=g(U,"SELECT",{name:!0,class:!0});var G=I(f);for(let H=0;H<p.length;H+=1)p[H].l(G);G.forEach(m),b=D(U),_=g(U,"BUTTON",{type:!0,class:!0});var M=I(_);k=B(M,h),M.forEach(m),P=D(U),C=g(U,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),W(C)!=="svelte-1bnvh8x"&&(C.textContent=R),U.forEach(m),y.forEach(m),S=D(w),w.forEach(m),this.h()},h(){c(u,"type","hidden"),c(u,"name","assetId"),u.value=i=l[22].id,c(a,"type","text"),c(a,"name","name"),c(a,"class","flex-1 min-w-[200px] px-3 py-2 rounded border border-spore-orange bg-white text-spore-dark text-sm focus:outline-none focus:ring-2 focus:ring-spore-orange"),a.required=!0,c(f,"name","roomId"),c(f,"class","px-3 py-2 rounded border border-spore-orange bg-white text-spore-dark text-sm focus:outline-none focus:ring-2 focus:ring-spore-orange"),f.required=!0,l[4].roomId===void 0&&Ye(()=>l[17].call(f)),c(_,"type","submit"),_.disabled=E=l[1]||!l[4].name.trim(),c(_,"class","bg-spore-forest text-white px-4 py-2 rounded font-bold text-xs hover:bg-spore-forest/90 disabled:opacity-50 transition-colors"),c(C,"type","button"),c(C,"class","px-4 py-2 rounded font-bold text-xs text-spore-steel hover:bg-spore-cream transition-colors"),c(o,"method","POST"),c(o,"action","?/update"),c(o,"class","flex flex-wrap items-center gap-4"),c(t,"class","px-6 py-4"),c(t,"colspan","5"),c(e,"class","bg-spore-orange/10")},m(d,w){L(d,e,w),s(e,t),s(t,o),s(o,u),s(o,r),s(o,a),Z(a,l[4].name),s(o,n),s(o,f);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(f,null);me(f,l[4].roomId,!0),s(o,b),s(o,_),s(_,k),s(o,P),s(o,C),s(e,S),x||(T=[J(a,"input",l[16]),J(f,"change",l[17]),J(C,"click",l[10]),xe(A=ye.call(null,o,l[18]))],x=!0)},p(d,w){if(w&128&&i!==(i=d[22].id)&&(u.value=i),w&80&&a.value!==d[4].name&&Z(a,d[4].name),w&64){N=re(d[6]);let y;for(y=0;y<N.length;y+=1){const U=Me(d,N,y);p[y]?p[y].p(U,w):(p[y]=je(U),p[y].c(),p[y].m(f,null))}for(;y<p.length;y+=1)p[y].d(1);p.length=N.length}w&80&&me(f,d[4].roomId),w&2&&h!==(h=d[1]?"SAVING...":"SAVE")&&F(k,h),w&82&&E!==(E=d[1]||!d[4].name.trim())&&(_.disabled=E),A&&Je(A.update)&&w&2&&A.update.call(null,d[18])},d(d){d&&m(e),Ke(p,d),x=!1,Te(T)}}}function pt(l){let e,t="None";return{c(){e=v("span"),e.textContent=t,this.h()},l(o){e=g(o,"SPAN",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-gnhnj2"&&(e.textContent=t),this.h()},h(){c(e,"class","text-sm text-spore-steel/50")},m(o,u){L(o,e,u)},p:_e,d(o){o&&m(e)}}}function ht(l){let e,t=l[22]._count.workOrders+"",o,u,i=l[22]._count.workOrders!==1?"s":"",r;return{c(){e=v("span"),o=V(t),u=V(" WO"),r=V(i),this.h()},l(a){e=g(a,"SPAN",{class:!0});var n=I(e);o=B(n,t),u=B(n," WO"),r=B(n,i),n.forEach(m),this.h()},h(){c(e,"class","px-3 py-1 text-xs font-bold rounded-full bg-spore-orange/10 text-spore-orange")},m(a,n){L(a,e,n),s(e,o),s(e,u),s(e,r)},p(a,n){n&128&&t!==(t=a[22]._count.workOrders+"")&&F(o,t),n&128&&i!==(i=a[22]._count.workOrders!==1?"s":"")&&F(r,i)},d(a){a&&m(e)}}}function je(l){var f;let e,t=((f=l[25].site)==null?void 0:f.name)+"",o,u,i=l[25].name+"",r,a,n;return{c(){e=v("option"),o=V(t),u=V(" - Room "),r=V(i),a=O(),this.h()},l(b){e=g(b,"OPTION",{});var _=I(e);o=B(_,t),u=B(_," - Room "),r=B(_,i),a=D(_),_.forEach(m),this.h()},h(){e.__value=n=l[25].id,Z(e,e.__value)},m(b,_){L(b,e,_),s(e,o),s(e,u),s(e,r),s(e,a)},p(b,_){var h;_&64&&t!==(t=((h=b[25].site)==null?void 0:h.name)+"")&&F(o,t),_&64&&i!==(i=b[25].name+"")&&F(r,i),_&64&&n!==(n=b[25].id)&&(e.__value=n,Z(e,e.__value))},d(b){b&&m(e)}}}function ze(l,e){let t,o;function u(a,n){return a[3]===a[22].id?ft:dt}let i=u(e),r=i(e);return{key:l,first:null,c(){t=he(),r.c(),o=he(),this.h()},l(a){t=he(),r.l(a),o=he(),this.h()},h(){this.first=t},m(a,n){L(a,t,n),r.m(a,n),L(a,o,n)},p(a,n){e=a,i===(i=u(e))&&r?r.p(e,n):(r.d(1),r=i(e),r&&(r.c(),r.m(o.parentNode,o)))},d(a){a&&(m(t),m(o)),r.d(a)}}}function _t(l){let e,t,o,u,i,r="Assets",a,n,f,b,_=l[0]?"CANCEL":"+ NEW ASSET",h,k,E,P,C;function R(d,w){return d[5]?nt:rt}let A=R(l),S=A(l),x=l[0]&&We(l);function T(d,w){return d[7].length>0?it:at}let N=T(l),p=N(l);return{c(){e=O(),t=v("div"),o=v("div"),u=v("div"),i=v("h1"),i.textContent=r,a=O(),n=v("p"),S.c(),f=O(),b=v("button"),h=V(_),k=O(),x&&x.c(),E=O(),p.c(),this.h()},l(d){et("svelte-5egb08",document.head).forEach(m),e=D(d),t=g(d,"DIV",{class:!0});var y=I(t);o=g(y,"DIV",{class:!0});var U=I(o);u=g(U,"DIV",{});var G=I(u);i=g(G,"H1",{class:!0,"data-svelte-h":!0}),W(i)!=="svelte-b9dnm5"&&(i.textContent=r),a=D(G),n=g(G,"P",{class:!0});var M=I(n);S.l(M),M.forEach(m),G.forEach(m),f=D(U),b=g(U,"BUTTON",{class:!0});var H=I(b);h=B(H,_),H.forEach(m),U.forEach(m),k=D(y),x&&x.l(y),E=D(y),p.l(y),y.forEach(m),this.h()},h(){document.title="Assets — Spore CMMS",c(i,"class","text-4xl font-extrabold text-spore-cream tracking-tight"),c(n,"class","text-spore-cream/60 mt-2 text-sm font-medium"),c(b,"class","bg-spore-orange text-white px-6 py-3 rounded-xl hover:bg-spore-orange/90 transition-colors text-sm font-bold tracking-wide"),c(o,"class","flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-10"),c(t,"class","max-w-7xl mx-auto px-4 py-10")},m(d,w){L(d,e,w),L(d,t,w),s(t,o),s(o,u),s(u,i),s(u,a),s(u,n),S.m(n,null),s(o,f),s(o,b),s(b,h),s(t,k),x&&x.m(t,null),s(t,E),p.m(t,null),P||(C=J(b,"click",l[12]),P=!0)},p(d,[w]){A===(A=R(d))&&S?S.p(d,w):(S.d(1),S=A(d),S&&(S.c(),S.m(n,null))),w&1&&_!==(_=d[0]?"CANCEL":"+ NEW ASSET")&&F(h,_),d[0]?x?x.p(d,w):(x=We(d),x.c(),x.m(t,E)):x&&(x.d(1),x=null),N===(N=T(d))&&p?p.p(d,w):(p.d(1),p=N(d),p&&(p.c(),p.m(t,null)))},i:_e,o:_e,d(d){d&&(m(e),m(t)),S.d(),x&&x.d(),p.d(),P=!1,C()}}}function mt(l,e,t){let o,u,i,{data:r}=e,a=!1,n=!1,f={name:"",roomId:""},b=null,_={name:"",roomId:""};function h(){st("/assets")}function k(w){t(3,b=w.id),t(4,_={name:w.name,roomId:w.roomId})}function E(){t(3,b=null),t(4,_={name:"",roomId:""})}const P=()=>t(0,a=!a);function C(){f.name=this.value,t(2,f),t(6,u),t(11,r)}function R(){f.roomId=Le(this),t(2,f),t(6,u),t(11,r)}const A=()=>(t(1,n=!0),async({update:w})=>{await w(),t(1,n=!1),t(0,a=!1),t(2,f={name:"",roomId:""})});function S(){_.name=this.value,t(4,_),t(6,u),t(11,r)}function x(){_.roomId=Le(this),t(4,_),t(6,u),t(11,r)}const T=()=>(t(1,n=!0),async({update:w})=>{await w(),t(1,n=!1),E()}),N=w=>k(w),p=w=>{var y;confirm("Delete this asset? This will also delete all associated work orders.")&&((y=w.currentTarget.closest("form"))==null||y.requestSubmit())},d=()=>t(0,a=!0);return l.$$set=w=>{"data"in w&&t(11,r=w.data)},l.$$.update=()=>{l.$$.dirty&2048&&t(7,o=r.assets||[]),l.$$.dirty&2048&&t(6,u=r.rooms||[]),l.$$.dirty&2048&&t(5,i=r.roomFilter)},[a,n,f,b,_,i,u,o,h,k,E,r,P,C,R,A,S,x,T,N,p,d]}class wt extends Ze{constructor(e){super(),$e(this,e,mt,_t,Xe,{data:11})}}export{wt as component};
