import{s as al,b as $s,i as el,n as tl,r as nl}from"../chunks/scheduler.1dbefa40.js";import{S as il,i as ul,s as p,e as l,t as w,m as dl,d as i,f as m,c as r,a as f,k as C,b as E,l as t,g as G,h as e,o as Qe,n as hs,j as S}from"../chunks/index.316c407f.js";import{e as sl}from"../chunks/forms.d1ef4f5c.js";function fl(n){var c,d;let o=((d=(c=n[0].profile)==null?void 0:c.email)==null?void 0:d.split("@")[0])+"",s;return{c(){s=w(o)},l(u){s=E(u,o)},m(u,g){G(u,s,g)},p(u,g){var b,x;g&1&&o!==(o=((x=(b=u[0].profile)==null?void 0:b.email)==null?void 0:x.split("@")[0])+"")&&S(s,o)},d(u){u&&i(s)}}}function cl(n){var c,d;let o=[(c=n[0].profile)==null?void 0:c.firstName,(d=n[0].profile)==null?void 0:d.lastName].filter(Boolean).join(" ")+"",s;return{c(){s=w(o)},l(u){s=E(u,o)},m(u,g){G(u,s,g)},p(u,g){var b,x;g&1&&o!==(o=[(b=u[0].profile)==null?void 0:b.firstName,(x=u[0].profile)==null?void 0:x.lastName].filter(Boolean).join(" ")+"")&&S(s,o)},d(u){u&&i(s)}}}function pl(n){let o;return{c(){o=w("Standard Access")},l(s){o=E(s,"Standard Access")},m(s,c){G(s,o,c)},d(s){s&&i(o)}}}function ml(n){let o;return{c(){o=w("Elevated Access")},l(s){o=E(s,"Elevated Access")},m(s,c){G(s,o,c)},d(s){s&&i(o)}}}function vl(n){let o;return{c(){o=w("Full Access")},l(s){o=E(s,"Full Access")},m(s,c){G(s,o,c)},d(s){s&&i(o)}}}function ll(n){let o,s=n[1].message+"",c;return{c(){o=l("div"),c=w(s),this.h()},l(d){o=r(d,"DIV",{class:!0});var u=f(o);c=E(u,s),u.forEach(i),this.h()},h(){t(o,"class","mb-4 p-3 bg-spore-forest/10 border border-spore-forest/30 rounded-lg text-spore-forest text-sm")},m(d,u){G(d,o,u),e(o,c)},p(d,u){u&2&&s!==(s=d[1].message+"")&&S(c,s)},d(d){d&&i(o)}}}function rl(n){let o,s=n[1].passwordError+"",c;return{c(){o=l("div"),c=w(s),this.h()},l(d){o=r(d,"DIV",{class:!0});var u=f(o);c=E(u,s),u.forEach(i),this.h()},h(){t(o,"class","mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm")},m(d,u){G(d,o,u),e(o,c)},p(d,u){u&2&&s!==(s=d[1].passwordError+"")&&S(c,s)},d(d){d&&i(o)}}}function ol(n){let o,s=n[1].message+"",c;return{c(){o=l("div"),c=w(s),this.h()},l(d){o=r(d,"DIV",{class:!0});var u=f(o);c=E(u,s),u.forEach(i),this.h()},h(){t(o,"class","mb-4 p-3 bg-spore-forest/10 border border-spore-forest/30 rounded-lg text-spore-forest text-sm")},m(d,u){G(d,o,u),e(o,c)},p(d,u){u&2&&s!==(s=d[1].message+"")&&S(c,s)},d(d){d&&i(o)}}}function hl(n){var Us,Bs,js,qs,Rs,Os,Fs,Hs,zs,Gs,Js,Ks,Qs;let o,s,c,d='<h1 class="text-4xl font-extrabold text-spore-cream tracking-tight">Profile Settings</h1> <p class="text-spore-cream/60 mt-2">Manage your account information</p>',u,g,b,x,R=(((Bs=(Us=n[0].profile)==null?void 0:Us.firstName)==null?void 0:Bs[0])||((qs=(js=n[0].profile)==null?void 0:js.email)==null?void 0:qs[0])||"?").toUpperCase()+"",Oe,We,O,J,Xe,_,pe,me,_s="Email",Bt,Fe,Ye=((Rs=n[0].profile)==null?void 0:Rs.email)+"",pt,jt,ve,he,bs="Phone",qt,He,Ze=(((Os=n[0].profile)==null?void 0:Os.phoneNumber)||"—")+"",mt,Rt,_e,be,gs="Role",Ot,ze,$e=((Hs=(Fs=n[0].profile)==null?void 0:Fs.role)==null?void 0:Hs.toLowerCase())+"",vt,Ft,ge,xe,xs="Access Level",Ht,$,ht,zt,M,Ce,Cs="Edit Profile",Gt,_t,I,ee,we,te,ws="First Name",Jt,F,et,Kt,Ee,se,Es="Last Name",Qt,H,tt,Wt,Ne,le,Ns="Phone Number",Xt,U,st,Yt,K,Pe,Ps="Email",Zt,Q,lt,$t,ke,ks="Contact an admin to change your email",es,re,oe,Ie,Is="Role:",ts,Ge,rt=((zs=n[0].profile)==null?void 0:zs.role.toLowerCase())+"",bt,ss,W,ot=n[2]?"Saving...":"Save Changes",gt,xt,ls,A,De,Ds="Change Password",rs,Ct,wt,D,Ae,ae,As="Current Password",os,T,as,ne,ye,ie,ys="New Password",ns,V,is,Ve,ue,Vs="Confirm Password",us,L,ds,Le,Ls="Password must be at least 8 characters",fs,Je,X,at=n[3]?"Changing...":"Change Password",Et,Nt,Pt,cs,Se,ps,nt=new Date(((Gs=n[0].profile)==null?void 0:Gs.createdAt)||"").toLocaleDateString()+"",kt,ms,Ss;function Ts(a,v){var h,y;return(h=a[0].profile)!=null&&h.firstName||(y=a[0].profile)!=null&&y.lastName?cl:fl}let It=Ts(n),B=It(n);function Ms(a,v){var h,y;return((h=a[0].profile)==null?void 0:h.role)==="ADMIN"?vl:((y=a[0].profile)==null?void 0:y.role)==="MANAGER"?ml:pl}let Dt=Ms(n),Y=Dt(n),N=((Js=n[1])==null?void 0:Js.success)&&ll(n),P=((Ks=n[1])==null?void 0:Ks.passwordError)&&rl(n),k=((Qs=n[1])==null?void 0:Qs.passwordSuccess)&&ol(n);return{c(){o=p(),s=l("div"),c=l("div"),c.innerHTML=d,u=p(),g=l("div"),b=l("div"),x=l("div"),Oe=w(R),We=p(),O=l("div"),J=l("h2"),B.c(),Xe=p(),_=l("div"),pe=l("div"),me=l("span"),me.textContent=_s,Bt=p(),Fe=l("p"),pt=w(Ye),jt=p(),ve=l("div"),he=l("span"),he.textContent=bs,qt=p(),He=l("p"),mt=w(Ze),Rt=p(),_e=l("div"),be=l("span"),be.textContent=gs,Ot=p(),ze=l("p"),vt=w($e),Ft=p(),ge=l("div"),xe=l("span"),xe.textContent=xs,Ht=p(),$=l("p"),Y.c(),zt=p(),M=l("div"),Ce=l("h2"),Ce.textContent=Cs,Gt=p(),N&&N.c(),_t=p(),I=l("form"),ee=l("div"),we=l("div"),te=l("label"),te.textContent=ws,Jt=p(),F=l("input"),Kt=p(),Ee=l("div"),se=l("label"),se.textContent=Es,Qt=p(),H=l("input"),Wt=p(),Ne=l("div"),le=l("label"),le.textContent=Ns,Xt=p(),U=l("input"),Yt=p(),K=l("div"),Pe=l("label"),Pe.textContent=Ps,Zt=p(),Q=l("input"),$t=p(),ke=l("p"),ke.textContent=ks,es=p(),re=l("div"),oe=l("div"),Ie=l("span"),Ie.textContent=Is,ts=p(),Ge=l("span"),bt=w(rt),ss=p(),W=l("button"),gt=w(ot),ls=p(),A=l("div"),De=l("h2"),De.textContent=Ds,rs=p(),P&&P.c(),Ct=p(),k&&k.c(),wt=p(),D=l("form"),Ae=l("div"),ae=l("label"),ae.textContent=As,os=p(),T=l("input"),as=p(),ne=l("div"),ye=l("div"),ie=l("label"),ie.textContent=ys,ns=p(),V=l("input"),is=p(),Ve=l("div"),ue=l("label"),ue.textContent=Vs,us=p(),L=l("input"),ds=p(),Le=l("p"),Le.textContent=Ls,fs=p(),Je=l("div"),X=l("button"),Et=w(at),cs=p(),Se=l("div"),ps=w("Account created "),kt=w(nt),this.h()},l(a){dl("svelte-3w78n0",document.head).forEach(i),o=m(a),s=r(a,"DIV",{class:!0});var h=f(s);c=r(h,"DIV",{class:!0,"data-svelte-h":!0}),C(c)!=="svelte-1lq5mur"&&(c.innerHTML=d),u=m(h),g=r(h,"DIV",{class:!0});var y=f(g);b=r(y,"DIV",{class:!0});var z=f(b);x=r(z,"DIV",{class:!0});var de=f(x);Oe=E(de,R),de.forEach(i),We=m(z),O=r(z,"DIV",{class:!0});var Te=f(O);J=r(Te,"H2",{class:!0});var it=f(J);B.l(it),it.forEach(i),Xe=m(Te),_=r(Te,"DIV",{class:!0});var j=f(_);pe=r(j,"DIV",{});var Me=f(pe);me=r(Me,"SPAN",{class:!0,"data-svelte-h":!0}),C(me)!=="svelte-n48nce"&&(me.textContent=_s),Bt=m(Me),Fe=r(Me,"P",{class:!0});var ut=f(Fe);pt=E(ut,Ye),ut.forEach(i),Me.forEach(i),jt=m(j),ve=r(j,"DIV",{});var Ue=f(ve);he=r(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),C(he)!=="svelte-x9w8cq"&&(he.textContent=bs),qt=m(Ue),He=r(Ue,"P",{class:!0});var dt=f(He);mt=E(dt,Ze),dt.forEach(i),Ue.forEach(i),Rt=m(j),_e=r(j,"DIV",{});var Be=f(_e);be=r(Be,"SPAN",{class:!0,"data-svelte-h":!0}),C(be)!=="svelte-1wne51i"&&(be.textContent=gs),Ot=m(Be),ze=r(Be,"P",{class:!0});var ft=f(ze);vt=E(ft,$e),ft.forEach(i),Be.forEach(i),Ft=m(j),ge=r(j,"DIV",{});var je=f(ge);xe=r(je,"SPAN",{class:!0,"data-svelte-h":!0}),C(xe)!=="svelte-1atodpa"&&(xe.textContent=xs),Ht=m(je),$=r(je,"P",{class:!0});var ct=f($);Y.l(ct),ct.forEach(i),je.forEach(i),j.forEach(i),Te.forEach(i),z.forEach(i),y.forEach(i),zt=m(h),M=r(h,"DIV",{class:!0});var Z=f(M);Ce=r(Z,"H2",{class:!0,"data-svelte-h":!0}),C(Ce)!=="svelte-t4k2di"&&(Ce.textContent=Cs),Gt=m(Z),N&&N.l(Z),_t=m(Z),I=r(Z,"FORM",{method:!0,action:!0,class:!0});var q=f(I);ee=r(q,"DIV",{class:!0});var qe=f(ee);we=r(qe,"DIV",{});var Re=f(we);te=r(Re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(te)!=="svelte-13ykw0p"&&(te.textContent=ws),Jt=m(Re),F=r(Re,"INPUT",{type:!0,id:!0,name:!0,class:!0}),Re.forEach(i),Kt=m(qe),Ee=r(qe,"DIV",{});var At=f(Ee);se=r(At,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(se)!=="svelte-eyowth"&&(se.textContent=Es),Qt=m(At),H=r(At,"INPUT",{type:!0,id:!0,name:!0,class:!0}),At.forEach(i),qe.forEach(i),Wt=m(q),Ne=r(q,"DIV",{});var yt=f(Ne);le=r(yt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(le)!=="svelte-jpoql5"&&(le.textContent=Ns),Xt=m(yt),U=r(yt,"INPUT",{type:!0,id:!0,name:!0,placeholder:!0,class:!0}),yt.forEach(i),Yt=m(q),K=r(q,"DIV",{});var Ke=f(K);Pe=r(Ke,"LABEL",{class:!0,"data-svelte-h":!0}),C(Pe)!=="svelte-1551fsf"&&(Pe.textContent=Ps),Zt=m(Ke),Q=r(Ke,"INPUT",{type:!0,class:!0}),$t=m(Ke),ke=r(Ke,"P",{class:!0,"data-svelte-h":!0}),C(ke)!=="svelte-9ep45u"&&(ke.textContent=ks),Ke.forEach(i),es=m(q),re=r(q,"DIV",{class:!0});var Vt=f(re);oe=r(Vt,"DIV",{class:!0});var Lt=f(oe);Ie=r(Lt,"SPAN",{class:!0,"data-svelte-h":!0}),C(Ie)!=="svelte-1knzhrc"&&(Ie.textContent=Is),ts=m(Lt),Ge=r(Lt,"SPAN",{class:!0});var Ws=f(Ge);bt=E(Ws,rt),Ws.forEach(i),Lt.forEach(i),ss=m(Vt),W=r(Vt,"BUTTON",{type:!0,class:!0});var Xs=f(W);gt=E(Xs,ot),Xs.forEach(i),Vt.forEach(i),q.forEach(i),Z.forEach(i),ls=m(h),A=r(h,"DIV",{class:!0});var fe=f(A);De=r(fe,"H2",{class:!0,"data-svelte-h":!0}),C(De)!=="svelte-1vsjyy0"&&(De.textContent=Ds),rs=m(fe),P&&P.l(fe),Ct=m(fe),k&&k.l(fe),wt=m(fe),D=r(fe,"FORM",{method:!0,action:!0,class:!0});var ce=f(D);Ae=r(ce,"DIV",{});var St=f(Ae);ae=r(St,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(ae)!=="svelte-1rc1a4n"&&(ae.textContent=As),os=m(St),T=r(St,"INPUT",{type:!0,id:!0,name:!0,class:!0}),St.forEach(i),as=m(ce),ne=r(ce,"DIV",{class:!0});var Tt=f(ne);ye=r(Tt,"DIV",{});var Mt=f(ye);ie=r(Mt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(ie)!=="svelte-t80aod"&&(ie.textContent=ys),ns=m(Mt),V=r(Mt,"INPUT",{type:!0,id:!0,name:!0,minlength:!0,class:!0}),Mt.forEach(i),is=m(Tt),Ve=r(Tt,"DIV",{});var Ut=f(Ve);ue=r(Ut,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),C(ue)!=="svelte-w47hzp"&&(ue.textContent=Vs),us=m(Ut),L=r(Ut,"INPUT",{type:!0,id:!0,name:!0,minlength:!0,class:!0}),Ut.forEach(i),Tt.forEach(i),ds=m(ce),Le=r(ce,"P",{class:!0,"data-svelte-h":!0}),C(Le)!=="svelte-aovh52"&&(Le.textContent=Ls),fs=m(ce),Je=r(ce,"DIV",{class:!0});var Ys=f(Je);X=r(Ys,"BUTTON",{type:!0,class:!0});var Zs=f(X);Et=E(Zs,at),Zs.forEach(i),Ys.forEach(i),ce.forEach(i),fe.forEach(i),cs=m(h),Se=r(h,"DIV",{class:!0});var vs=f(Se);ps=E(vs,"Account created "),kt=E(vs,nt),vs.forEach(i),h.forEach(i),this.h()},h(){var a,v,h,y,z,de;document.title="Profile — Spore CMMS",t(c,"class","mb-8"),t(x,"class","w-20 h-20 rounded-full bg-spore-orange flex items-center justify-center text-3xl font-bold text-white shrink-0"),t(J,"class","text-2xl font-bold text-spore-cream"),t(me,"class","text-spore-steel"),t(Fe,"class","text-spore-cream font-medium truncate"),t(he,"class","text-spore-steel"),t(He,"class","text-spore-cream font-medium"),t(be,"class","text-spore-steel"),t(ze,"class","text-spore-cream font-medium capitalize"),t(xe,"class","text-spore-steel"),t($,"class",ht="font-medium "+(((a=n[0].profile)==null?void 0:a.role)==="ADMIN"?"text-spore-orange":((v=n[0].profile)==null?void 0:v.role)==="MANAGER"?"text-spore-forest":"text-spore-cream")),t(_,"class","mt-3 grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-2 text-sm"),t(O,"class","flex-1 min-w-0"),t(b,"class","flex items-start gap-6"),t(g,"class","bg-spore-dark rounded-xl p-6 mb-6 border border-spore-steel/30"),t(Ce,"class","text-lg font-bold text-spore-dark mb-4"),t(te,"for","firstName"),t(te,"class","block text-sm font-medium text-spore-steel mb-1"),t(F,"type","text"),t(F,"id","firstName"),t(F,"name","firstName"),F.value=et=((h=n[0].profile)==null?void 0:h.firstName)||"",t(F,"class","w-full px-4 py-3 rounded-lg border border-spore-cream bg-spore-cream/20 text-spore-dark focus:outline-none focus:ring-2 focus:ring-spore-orange"),t(se,"for","lastName"),t(se,"class","block text-sm font-medium text-spore-steel mb-1"),t(H,"type","text"),t(H,"id","lastName"),t(H,"name","lastName"),H.value=tt=((y=n[0].profile)==null?void 0:y.lastName)||"",t(H,"class","w-full px-4 py-3 rounded-lg border border-spore-cream bg-spore-cream/20 text-spore-dark focus:outline-none focus:ring-2 focus:ring-spore-orange"),t(ee,"class","grid grid-cols-1 sm:grid-cols-2 gap-4"),t(le,"for","phoneNumber"),t(le,"class","block text-sm font-medium text-spore-steel mb-1"),t(U,"type","tel"),t(U,"id","phoneNumber"),t(U,"name","phoneNumber"),U.value=st=((z=n[0].profile)==null?void 0:z.phoneNumber)||"",t(U,"placeholder","(555) 123-4567"),t(U,"class","w-full px-4 py-3 rounded-lg border border-spore-cream bg-spore-cream/20 text-spore-dark placeholder-spore-steel/50 focus:outline-none focus:ring-2 focus:ring-spore-orange"),t(Pe,"class","block text-sm font-medium text-spore-steel mb-1"),t(Q,"type","email"),Q.value=lt=((de=n[0].profile)==null?void 0:de.email)||"",Q.disabled=!0,t(Q,"class","w-full px-4 py-3 rounded-lg border border-spore-cream/50 bg-spore-cream/10 text-spore-steel cursor-not-allowed"),t(ke,"class","text-xs text-spore-steel mt-1"),t(Ie,"class","font-medium"),t(Ge,"class","capitalize"),t(oe,"class","text-sm text-spore-steel"),t(W,"type","submit"),W.disabled=n[2],t(W,"class","bg-spore-forest text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-spore-forest/90 focus:outline-none focus:ring-2 focus:ring-spore-forest disabled:opacity-50 transition-colors"),t(re,"class","flex justify-between items-center pt-2"),t(I,"method","POST"),t(I,"action","?/updateProfile"),t(I,"class","space-y-4"),t(M,"class","bg-spore-white rounded-xl p-6 mb-6"),t(De,"class","text-lg font-bold text-spore-dark mb-4"),t(ae,"for","currentPassword"),t(ae,"class","block text-sm font-medium text-spore-steel mb-1"),t(T,"type","password"),t(T,"id","currentPassword"),t(T,"name","currentPassword"),T.required=!0,t(T,"class","w-full px-4 py-3 rounded-lg border border-spore-cream bg-spore-cream/20 text-spore-dark focus:outline-none focus:ring-2 focus:ring-spore-orange"),t(ie,"for","newPassword"),t(ie,"class","block text-sm font-medium text-spore-steel mb-1"),t(V,"type","password"),t(V,"id","newPassword"),t(V,"name","newPassword"),t(V,"minlength","8"),V.required=!0,t(V,"class","w-full px-4 py-3 rounded-lg border border-spore-cream bg-spore-cream/20 text-spore-dark focus:outline-none focus:ring-2 focus:ring-spore-orange"),t(ue,"for","confirmPassword"),t(ue,"class","block text-sm font-medium text-spore-steel mb-1"),t(L,"type","password"),t(L,"id","confirmPassword"),t(L,"name","confirmPassword"),t(L,"minlength","8"),L.required=!0,t(L,"class","w-full px-4 py-3 rounded-lg border border-spore-cream bg-spore-cream/20 text-spore-dark focus:outline-none focus:ring-2 focus:ring-spore-orange"),t(ne,"class","grid grid-cols-1 sm:grid-cols-2 gap-4"),t(Le,"class","text-xs text-spore-steel"),t(X,"type","submit"),X.disabled=Nt=n[3]||!n[4]||!n[5]||!n[6],t(X,"class","bg-spore-orange text-white px-6 py-2 rounded-lg font-bold text-sm hover:bg-spore-orange/90 focus:outline-none focus:ring-2 focus:ring-spore-orange disabled:opacity-50 transition-colors"),t(Je,"class","flex justify-end pt-2"),t(D,"method","POST"),t(D,"action","?/changePassword"),t(D,"class","space-y-4"),t(A,"class","bg-spore-white rounded-xl p-6"),t(Se,"class","mt-6 text-center text-sm text-spore-cream/50"),t(s,"class","max-w-3xl mx-auto px-4 py-10")},m(a,v){G(a,o,v),G(a,s,v),e(s,c),e(s,u),e(s,g),e(g,b),e(b,x),e(x,Oe),e(b,We),e(b,O),e(O,J),B.m(J,null),e(O,Xe),e(O,_),e(_,pe),e(pe,me),e(pe,Bt),e(pe,Fe),e(Fe,pt),e(_,jt),e(_,ve),e(ve,he),e(ve,qt),e(ve,He),e(He,mt),e(_,Rt),e(_,_e),e(_e,be),e(_e,Ot),e(_e,ze),e(ze,vt),e(_,Ft),e(_,ge),e(ge,xe),e(ge,Ht),e(ge,$),Y.m($,null),e(s,zt),e(s,M),e(M,Ce),e(M,Gt),N&&N.m(M,null),e(M,_t),e(M,I),e(I,ee),e(ee,we),e(we,te),e(we,Jt),e(we,F),e(ee,Kt),e(ee,Ee),e(Ee,se),e(Ee,Qt),e(Ee,H),e(I,Wt),e(I,Ne),e(Ne,le),e(Ne,Xt),e(Ne,U),e(I,Yt),e(I,K),e(K,Pe),e(K,Zt),e(K,Q),e(K,$t),e(K,ke),e(I,es),e(I,re),e(re,oe),e(oe,Ie),e(oe,ts),e(oe,Ge),e(Ge,bt),e(re,ss),e(re,W),e(W,gt),e(s,ls),e(s,A),e(A,De),e(A,rs),P&&P.m(A,null),e(A,Ct),k&&k.m(A,null),e(A,wt),e(A,D),e(D,Ae),e(Ae,ae),e(Ae,os),e(Ae,T),Qe(T,n[4]),e(D,as),e(D,ne),e(ne,ye),e(ye,ie),e(ye,ns),e(ye,V),Qe(V,n[5]),e(ne,is),e(ne,Ve),e(Ve,ue),e(Ve,us),e(Ve,L),Qe(L,n[6]),e(D,ds),e(D,Le),e(D,fs),e(D,Je),e(Je,X),e(X,Et),e(s,cs),e(s,Se),e(Se,ps),e(Se,kt),ms||(Ss=[$s(xt=sl.call(null,I,n[7])),hs(T,"input",n[8]),hs(V,"input",n[9]),hs(L,"input",n[10]),$s(Pt=sl.call(null,D,n[11]))],ms=!0)},p(a,[v]){var h,y,z,de,Te,it,j,Me,ut,Ue,dt,Be,ft,je,ct,Z,q,qe,Re;v&1&&R!==(R=(((y=(h=a[0].profile)==null?void 0:h.firstName)==null?void 0:y[0])||((de=(z=a[0].profile)==null?void 0:z.email)==null?void 0:de[0])||"?").toUpperCase()+"")&&S(Oe,R),It===(It=Ts(a))&&B?B.p(a,v):(B.d(1),B=It(a),B&&(B.c(),B.m(J,null))),v&1&&Ye!==(Ye=((Te=a[0].profile)==null?void 0:Te.email)+"")&&S(pt,Ye),v&1&&Ze!==(Ze=(((it=a[0].profile)==null?void 0:it.phoneNumber)||"—")+"")&&S(mt,Ze),v&1&&$e!==($e=((Me=(j=a[0].profile)==null?void 0:j.role)==null?void 0:Me.toLowerCase())+"")&&S(vt,$e),Dt!==(Dt=Ms(a))&&(Y.d(1),Y=Dt(a),Y&&(Y.c(),Y.m($,null))),v&1&&ht!==(ht="font-medium "+(((ut=a[0].profile)==null?void 0:ut.role)==="ADMIN"?"text-spore-orange":((Ue=a[0].profile)==null?void 0:Ue.role)==="MANAGER"?"text-spore-forest":"text-spore-cream"))&&t($,"class",ht),(dt=a[1])!=null&&dt.success?N?N.p(a,v):(N=ll(a),N.c(),N.m(M,_t)):N&&(N.d(1),N=null),v&1&&et!==(et=((Be=a[0].profile)==null?void 0:Be.firstName)||"")&&F.value!==et&&(F.value=et),v&1&&tt!==(tt=((ft=a[0].profile)==null?void 0:ft.lastName)||"")&&H.value!==tt&&(H.value=tt),v&1&&st!==(st=((je=a[0].profile)==null?void 0:je.phoneNumber)||"")&&U.value!==st&&(U.value=st),v&1&&lt!==(lt=((ct=a[0].profile)==null?void 0:ct.email)||"")&&Q.value!==lt&&(Q.value=lt),v&1&&rt!==(rt=((Z=a[0].profile)==null?void 0:Z.role.toLowerCase())+"")&&S(bt,rt),v&4&&ot!==(ot=a[2]?"Saving...":"Save Changes")&&S(gt,ot),v&4&&(W.disabled=a[2]),xt&&el(xt.update)&&v&4&&xt.update.call(null,a[7]),(q=a[1])!=null&&q.passwordError?P?P.p(a,v):(P=rl(a),P.c(),P.m(A,Ct)):P&&(P.d(1),P=null),(qe=a[1])!=null&&qe.passwordSuccess?k?k.p(a,v):(k=ol(a),k.c(),k.m(A,wt)):k&&(k.d(1),k=null),v&16&&T.value!==a[4]&&Qe(T,a[4]),v&32&&V.value!==a[5]&&Qe(V,a[5]),v&64&&L.value!==a[6]&&Qe(L,a[6]),v&8&&at!==(at=a[3]?"Changing...":"Change Password")&&S(Et,at),v&120&&Nt!==(Nt=a[3]||!a[4]||!a[5]||!a[6])&&(X.disabled=Nt),Pt&&el(Pt.update)&&v&122&&Pt.update.call(null,a[11]),v&1&&nt!==(nt=new Date(((Re=a[0].profile)==null?void 0:Re.createdAt)||"").toLocaleDateString()+"")&&S(kt,nt)},i:tl,o:tl,d(a){a&&(i(o),i(s)),B.d(),Y.d(),N&&N.d(),P&&P.d(),k&&k.d(),ms=!1,nl(Ss)}}}function _l(n,o,s){let{data:c}=o,{form:d}=o,u=!1,g=!1,b="",x="",R="";const Oe=()=>(s(2,u=!0),async({update:_})=>{await _(),s(2,u=!1)});function We(){b=this.value,s(4,b)}function O(){x=this.value,s(5,x)}function J(){R=this.value,s(6,R)}const Xe=()=>(s(3,g=!0),async({update:_})=>{await _(),s(3,g=!1),d!=null&&d.passwordError||(s(4,b=""),s(5,x=""),s(6,R=""))});return n.$$set=_=>{"data"in _&&s(0,c=_.data),"form"in _&&s(1,d=_.form)},[c,d,u,g,b,x,R,Oe,We,O,J,Xe]}class Cl extends il{constructor(o){super(),ul(this,o,_l,hl,al,{data:0,form:1})}}export{Cl as component};
