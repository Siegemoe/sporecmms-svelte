import{s as Ue,e as Fe,u as Be,g as Ge,f as Je,c as Ke,o as Qe,b as Xe}from"../chunks/scheduler.1dbefa40.js";import{S as Ye,i as Ze,s as k,e as h,f as A,c as d,a as m,d as i,l as t,g as M,y as $e,z as et,t as W,k as He,b as w,h as r,j as je}from"../chunks/index.316c407f.js";import{i as tt}from"../chunks/websocket.9bdac6e2.js";import{p as st}from"../chunks/stores.ff84b20e.js";import{e as at}from"../chunks/forms.d1ef4f5c.js";function ze(l){let o,n,p,c,s,x='<span class="text-2xl font-extrabold text-spore-cream tracking-tight">SPORE</span> <span class="text-xs font-medium text-spore-steel uppercase tracking-widest">CMMS</span>',f,e,a,v,F,oe,N,le,B,ie,S,ne,G,ce,V,fe,J,pe,ue,C,I,z,R=(l[2].firstName||l[2].email.split("@")[0])+"",K,he,q,U=l[2].role.toLowerCase()+"",Q,de,L,We='<button type="submit" class="text-sm font-semibold text-spore-cream/50 hover:text-spore-cream transition-colors" title="Sign out of your account">Logout</button>',X,j,E,P,me,Y,_e,O,xe,Z,ve,T,ge,$,be,H,ke,ee,Ae,Ee,we,g=l[2].role==="ADMIN"&&qe(l),b=l[2].role==="ADMIN"&&Re(l);return{c(){o=h("nav"),n=h("div"),p=h("div"),c=h("div"),s=h("a"),s.innerHTML=x,f=k(),e=h("div"),a=h("a"),v=W("Dashboard"),oe=k(),N=h("a"),le=W("Work Orders"),ie=k(),S=h("a"),ne=W("Sites"),ce=k(),V=h("a"),fe=W("Assets"),pe=k(),g&&g.c(),ue=k(),C=h("div"),I=h("a"),z=h("p"),K=W(R),he=k(),q=h("p"),Q=W(U),de=k(),L=h("form"),L.innerHTML=We,X=k(),j=h("nav"),E=h("div"),P=h("a"),me=W("ðŸ“Š"),_e=k(),O=h("a"),xe=W("ðŸ“‹"),ve=k(),T=h("a"),ge=W("ðŸ¢"),be=k(),H=h("a"),ke=W("âš™ï¸"),Ae=k(),b&&b.c(),this.h()},l(u){o=d(u,"NAV",{class:!0});var _=m(o);n=d(_,"DIV",{class:!0});var Me=m(n);p=d(Me,"DIV",{class:!0});var te=m(p);c=d(te,"DIV",{class:!0});var se=m(c);s=d(se,"A",{href:!0,class:!0,"data-svelte-h":!0}),He(s)!=="svelte-sc039f"&&(s.innerHTML=x),f=A(se),e=d(se,"DIV",{class:!0});var y=m(e);a=d(y,"A",{href:!0,class:!0});var ye=m(a);v=w(ye,"Dashboard"),ye.forEach(i),oe=A(y),N=d(y,"A",{href:!0,class:!0});var De=m(N);le=w(De,"Work Orders"),De.forEach(i),ie=A(y),S=d(y,"A",{href:!0,class:!0});var Ie=m(S);ne=w(Ie,"Sites"),Ie.forEach(i),ce=A(y),V=d(y,"A",{href:!0,class:!0});var Le=m(V);fe=w(Le,"Assets"),Le.forEach(i),pe=A(y),g&&g.l(y),y.forEach(i),se.forEach(i),ue=A(te),C=d(te,"DIV",{class:!0});var ae=m(C);I=d(ae,"A",{href:!0,class:!0});var re=m(I);z=d(re,"P",{class:!0});var Ne=m(z);K=w(Ne,R),Ne.forEach(i),he=A(re),q=d(re,"P",{class:!0});var Se=m(q);Q=w(Se,U),Se.forEach(i),re.forEach(i),de=A(ae),L=d(ae,"FORM",{method:!0,action:!0,"data-svelte-h":!0}),He(L)!=="svelte-4tekxq"&&(L.innerHTML=We),ae.forEach(i),te.forEach(i),Me.forEach(i),_.forEach(i),X=A(u),j=d(u,"NAV",{class:!0});var Ve=m(j);E=d(Ve,"DIV",{class:!0});var D=m(E);P=d(D,"A",{href:!0,class:!0});var Ce=m(P);me=w(Ce,"ðŸ“Š"),Ce.forEach(i),_e=A(D),O=d(D,"A",{href:!0,class:!0});var Pe=m(O);xe=w(Pe,"ðŸ“‹"),Pe.forEach(i),ve=A(D),T=d(D,"A",{href:!0,class:!0});var Oe=m(T);ge=w(Oe,"ðŸ¢"),Oe.forEach(i),be=A(D),H=d(D,"A",{href:!0,class:!0});var Te=m(H);ke=w(Te,"âš™ï¸"),Te.forEach(i),Ae=A(D),b&&b.l(D),D.forEach(i),Ve.forEach(i),this.h()},h(){t(s,"href","/dashboard"),t(s,"class","flex items-center gap-2"),t(a,"href","/dashboard"),t(a,"class",F="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(l[0]==="/dashboard"?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream")),t(N,"href","/work-orders"),t(N,"class",B="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(l[0].startsWith("/work-orders")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream")),t(S,"href","/sites"),t(S,"class",G="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(l[0].startsWith("/sites")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream")),t(V,"href","/assets"),t(V,"class",J="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(l[0].startsWith("/assets")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream")),t(e,"class","hidden md:flex items-center gap-1"),t(c,"class","flex items-center gap-10"),t(z,"class","text-sm font-semibold text-spore-cream"),t(q,"class","text-xs text-spore-steel capitalize"),t(I,"href","/profile"),t(I,"class","hidden sm:block text-right hover:opacity-80 transition-opacity"),t(L,"method","POST"),t(L,"action","/auth/logout"),t(C,"class","flex items-center gap-4"),t(p,"class","flex justify-between h-16"),t(n,"class","max-w-7xl mx-auto px-4"),t(o,"class","bg-spore-dark border-b border-spore-steel/30"),t(P,"href","/dashboard"),t(P,"class",Y="text-lg "+(l[0]==="/dashboard"?"text-spore-orange":"text-spore-cream/70")),t(O,"href","/work-orders"),t(O,"class",Z="text-lg "+(l[0].startsWith("/work-orders")?"text-spore-orange":"text-spore-cream/70")),t(T,"href","/sites"),t(T,"class",$="text-lg "+(l[0].startsWith("/sites")?"text-spore-orange":"text-spore-cream/70")),t(H,"href","/assets"),t(H,"class",ee="text-lg "+(l[0].startsWith("/assets")?"text-spore-orange":"text-spore-cream/70")),t(E,"class","flex justify-around"),t(j,"class","md:hidden bg-spore-dark border-b border-spore-steel/30 px-4 py-2")},m(u,_){M(u,o,_),r(o,n),r(n,p),r(p,c),r(c,s),r(c,f),r(c,e),r(e,a),r(a,v),r(e,oe),r(e,N),r(N,le),r(e,ie),r(e,S),r(S,ne),r(e,ce),r(e,V),r(V,fe),r(e,pe),g&&g.m(e,null),r(p,ue),r(p,C),r(C,I),r(I,z),r(z,K),r(I,he),r(I,q),r(q,Q),r(C,de),r(C,L),M(u,X,_),M(u,j,_),r(j,E),r(E,P),r(P,me),r(E,_e),r(E,O),r(O,xe),r(E,ve),r(E,T),r(T,ge),r(E,be),r(E,H),r(H,ke),r(E,Ae),b&&b.m(E,null),Ee||(we=Xe(at.call(null,L)),Ee=!0)},p(u,_){_&1&&F!==(F="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(u[0]==="/dashboard"?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream"))&&t(a,"class",F),_&1&&B!==(B="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(u[0].startsWith("/work-orders")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream"))&&t(N,"class",B),_&1&&G!==(G="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(u[0].startsWith("/sites")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream"))&&t(S,"class",G),_&1&&J!==(J="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(u[0].startsWith("/assets")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream"))&&t(V,"class",J),u[2].role==="ADMIN"?g?g.p(u,_):(g=qe(u),g.c(),g.m(e,null)):g&&(g.d(1),g=null),_&4&&R!==(R=(u[2].firstName||u[2].email.split("@")[0])+"")&&je(K,R),_&4&&U!==(U=u[2].role.toLowerCase()+"")&&je(Q,U),_&1&&Y!==(Y="text-lg "+(u[0]==="/dashboard"?"text-spore-orange":"text-spore-cream/70"))&&t(P,"class",Y),_&1&&Z!==(Z="text-lg "+(u[0].startsWith("/work-orders")?"text-spore-orange":"text-spore-cream/70"))&&t(O,"class",Z),_&1&&$!==($="text-lg "+(u[0].startsWith("/sites")?"text-spore-orange":"text-spore-cream/70"))&&t(T,"class",$),_&1&&ee!==(ee="text-lg "+(u[0].startsWith("/assets")?"text-spore-orange":"text-spore-cream/70"))&&t(H,"class",ee),u[2].role==="ADMIN"?b?b.p(u,_):(b=Re(u),b.c(),b.m(E,null)):b&&(b.d(1),b=null)},d(u){u&&(i(o),i(X),i(j)),g&&g.d(),b&&b.d(),Ee=!1,we()}}}function qe(l){let o,n,p,c,s,x,f;return{c(){o=h("a"),n=W("Users"),c=k(),s=h("a"),x=W("Audit Log"),this.h()},l(e){o=d(e,"A",{href:!0,class:!0});var a=m(o);n=w(a,"Users"),a.forEach(i),c=A(e),s=d(e,"A",{href:!0,class:!0});var v=m(s);x=w(v,"Audit Log"),v.forEach(i),this.h()},h(){t(o,"href","/users"),t(o,"class",p="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(l[0].startsWith("/users")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream")),t(s,"href","/audit-log"),t(s,"class",f="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(l[0].startsWith("/audit-log")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream"))},m(e,a){M(e,o,a),r(o,n),M(e,c,a),M(e,s,a),r(s,x)},p(e,a){a&1&&p!==(p="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(e[0].startsWith("/users")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream"))&&t(o,"class",p),a&1&&f!==(f="px-4 py-2 text-sm font-semibold tracking-wide transition-colors "+(e[0].startsWith("/audit-log")?"text-spore-orange":"text-spore-cream/70 hover:text-spore-cream"))&&t(s,"class",f)},d(e){e&&(i(o),i(c),i(s))}}}function Re(l){let o,n,p,c,s,x,f;return{c(){o=h("a"),n=W("ðŸ‘¥"),c=k(),s=h("a"),x=W("ðŸ“œ"),this.h()},l(e){o=d(e,"A",{href:!0,class:!0});var a=m(o);n=w(a,"ðŸ‘¥"),a.forEach(i),c=A(e),s=d(e,"A",{href:!0,class:!0});var v=m(s);x=w(v,"ðŸ“œ"),v.forEach(i),this.h()},h(){t(o,"href","/users"),t(o,"class",p="text-lg "+(l[0].startsWith("/users")?"text-spore-orange":"text-spore-cream/70")),t(s,"href","/audit-log"),t(s,"class",f="text-lg "+(l[0].startsWith("/audit-log")?"text-spore-orange":"text-spore-cream/70"))},m(e,a){M(e,o,a),r(o,n),M(e,c,a),M(e,s,a),r(s,x)},p(e,a){a&1&&p!==(p="text-lg "+(e[0].startsWith("/users")?"text-spore-orange":"text-spore-cream/70"))&&t(o,"class",p),a&1&&f!==(f="text-lg "+(e[0].startsWith("/audit-log")?"text-spore-orange":"text-spore-cream/70"))&&t(s,"class",f)},d(e){e&&(i(o),i(c),i(s))}}}function rt(l){let o,n,p,c,s=!l[1]&&l[2]&&ze(l);const x=l[6].default,f=Fe(x,l,l[5],null);return{c(){s&&s.c(),o=k(),n=h("main"),f&&f.c(),this.h()},l(e){s&&s.l(e),o=A(e),n=d(e,"MAIN",{class:!0});var a=m(n);f&&f.l(a),a.forEach(i),this.h()},h(){t(n,"class",p=l[1]?"":"bg-spore-steel min-h-screen")},m(e,a){s&&s.m(e,a),M(e,o,a),M(e,n,a),f&&f.m(n,null),c=!0},p(e,[a]){!e[1]&&e[2]?s?s.p(e,a):(s=ze(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null),f&&f.p&&(!c||a&32)&&Be(f,x,e,e[5],c?Je(x,e[5],a,null):Ge(e[5]),null),(!c||a&2&&p!==(p=e[1]?"":"bg-spore-steel min-h-screen"))&&t(n,"class",p)},i(e){c||($e(f,e),c=!0)},o(e){et(f,e),c=!1},d(e){e&&(i(o),i(n)),s&&s.d(e),f&&f.d(e)}}}function ot(l,o,n){let p,c,s,x;Ke(l,st,v=>n(4,x=v));let{$$slots:f={},$$scope:e}=o,{data:a}=o;return Qe(()=>{a.user&&tt()}),l.$$set=v=>{"data"in v&&n(3,a=v.data),"$$scope"in v&&n(5,e=v.$$scope)},l.$$.update=()=>{l.$$.dirty&16&&n(0,p=x.url.pathname),l.$$.dirty&8&&n(2,c=a.user),l.$$.dirty&1&&n(1,s=p.startsWith("/auth"))},[p,s,c,a,x,e,f]}class pt extends Ye{constructor(o){super(),Ze(this,o,ot,rt,Ue,{data:3})}}export{pt as component};
